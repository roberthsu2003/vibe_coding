# 反應力測試遊戲 - PRD 需求文件教學

> **重要提示**：本遊戲使用 HTML、CSS 和 JavaScript 開發，**不需要安裝任何環境或套件**，直接在瀏覽器中打開 HTML 檔案即可運行。

## 什麼是 PRD？

PRD（Product Requirements Document，產品需求文件）是用來描述產品功能和需求的文件。在軟體開發中，PRD 幫助開發者理解：
- 產品要做什麼
- 功能有哪些
- 使用者如何與產品互動
- 技術要求是什麼

## 如何使用 PRD 產生程式碼

### 步驟 1：撰寫 PRD
根據下面的 PRD 範例，撰寫你的遊戲需求文件。

### 步驟 2：將 PRD 提供給 AI
將完整的 PRD 複製給 AI（如 Cursor），並加上以下 prompt：

```
請根據以下 PRD（產品需求文件）來建立這個遊戲。

[貼上你的 PRD 內容]

請使用 HTML、CSS 和 JavaScript 實作，所有程式碼要能在瀏覽器中直接運行，不需要安裝任何環境。
```

### 步驟 3：測試與調整
測試 AI 產生的程式碼，如有問題可修改 PRD 或直接告訴 AI 需要改進的地方。

---

## PRD 範例

### 產品概述

**產品名稱**：反應力測試遊戲（Reaction Test Game）

**產品目標**：建立一個測試玩家反應速度的遊戲，幫助玩家了解自己的反應時間。

**目標使用者**：所有年齡層的玩家

**技術要求**：
- 使用 HTML、CSS、JavaScript
- 不需要安裝任何環境或套件
- 直接在瀏覽器中運行
- 使用 localStorage 儲存測試記錄

---

### 功能需求

#### 1. 基本測試流程

**準備階段**：
- 顯示等待畫面，提示「準備好後按空白鍵」
- 畫面可以是單一顏色（例如綠色或藍色）
- 顯示操作說明

**等待階段**：
- 玩家按下空白鍵後，畫面變為「準備」狀態
- 隨機等待一段時間（例如 1-5 秒）
- 等待時間內畫面保持「準備」狀態

**反應階段**：
- 等待時間結束後，畫面立即變色（例如變為紅色）或顯示「現在！」提示
- 同時記錄反應開始時間

**測量階段**：
- 玩家看到提示後，盡快按下空白鍵（或點擊滑鼠）
- 記錄按下按鍵的時間
- 計算反應時間 = 按下時間 - 提示出現時間
- 顯示反應時間（單位：毫秒）

#### 2. 測試模式

**視覺反應測試**：
- 畫面變色時按下按鍵
- 使用明顯的顏色變化（例如：綠色 → 紅色）

**聽覺反應測試**（進階）：
- 播放聲音時按下按鍵
- 使用瀏覽器的 Audio API

**顏色反應測試**（進階）：
- 顯示特定顏色時按下對應的按鍵
- 例如：紅色按 R，藍色按 B，綠色按 G

#### 3. 結果顯示

**單次測試結果**：
- 顯示反應時間（毫秒）
- 顯示評級（例如：極快 < 200ms，快 200-300ms，普通 300-500ms，慢 > 500ms）
- 使用不同顏色表示評級

**統計資訊**：
- 顯示最近 10 次測試的反應時間列表
- 計算並顯示平均反應時間
- 顯示最快反應時間
- 顯示最慢反應時間

#### 4. 難度選擇（進階）

**難度選項**：
- 簡單：等待時間較長（3-7 秒），提示明顯
- 中等：等待時間中等（1-5 秒），提示正常
- 困難：等待時間較短（0.5-3 秒），提示較不明顯

#### 5. 挑戰模式（進階）

**連續測試模式**：
- 連續進行 5 次測試
- 計算平均反應時間
- 顯示每次測試的結果

**極限模式**：
- 反應時間超過某個閾值（如 500ms）則失敗
- 記錄連續成功的次數

**時間挑戰**：
- 在 30 秒內完成盡可能多的測試
- 計算平均反應時間

#### 6. 視覺效果

**倒數動畫**（可選）：
- 等待階段顯示倒數（3、2、1）

**提示動畫**：
- 提示出現時的動畫效果（例如：放大、閃爍、脈衝）
- 使用 CSS 動畫實現

**反應時間視覺化**：
- 使用進度條或顏色變化顯示反應時間
- 例如：反應時間越短，顏色越綠；反應時間越長，顏色越紅

#### 7. 資料記錄與分析（進階）

**歷史記錄**：
- 使用 localStorage 儲存每次測試的詳細資料
- 記錄：時間戳記、反應時間、測試模式、難度等

**資料分析**：
- 顯示反應時間的趨勢圖（使用 Canvas 或 Chart.js）
- 顯示反應時間的分佈圖（直方圖）
- 計算統計數據：平均值、中位數、標準差

**個人最佳記錄**：
- 記錄每種模式的最佳反應時間
- 記錄每日最佳反應時間
- 顯示進步趨勢

**匯出功能**：
- 可以將測試資料匯出為 CSV 或 JSON 檔案
- 使用 JavaScript 的 Blob API 實現下載

---

### 使用者介面需求

#### 1. 主畫面
- 遊戲標題
- 測試模式選擇（視覺、聽覺、顏色）
- 難度選擇（如果有）
- 開始測試按鈕

#### 2. 準備畫面
- 「準備好後按空白鍵」提示
- 操作說明

#### 3. 等待畫面
- 「準備」提示
- 或倒數動畫

#### 4. 反應畫面
- 明顯的顏色變化或「現在！」提示
- 提示玩家按下按鍵

#### 5. 結果畫面
- 反應時間顯示（大字體）
- 評級顯示
- 統計資訊
- 「再測一次」按鈕
- 「查看歷史記錄」按鈕（如果有）

#### 6. 歷史記錄畫面（進階）
- 測試記錄列表
- 統計圖表
- 匯出按鈕

---

### 技術規格

#### 1. 檔案結構
- 建議使用單一 HTML 檔案，或分為 HTML、CSS、JavaScript 三個檔案

#### 2. 技術要求
- **時間測量**：
  - 使用 `performance.now()` 或 `Date.now()` 來精確測量時間
  - 精度要達到毫秒級
- **事件處理**：
  - 監聽鍵盤事件（keydown/keyup）
  - 監聽滑鼠點擊事件（可選）
- **動畫**：
  - 使用 CSS 動畫實現視覺效果
  - 使用 `requestAnimationFrame` 實現流暢動畫
- **資料儲存**：
  - 使用 localStorage 儲存測試記錄
  - 使用 JSON 格式儲存結構化資料
- **資料視覺化**（進階）：
  - 使用 Canvas 繪製圖表
  - 或使用 Chart.js 函式庫（需要 CDN 引入）

#### 3. 隨機數生成
- 使用 `Math.random()` 生成隨機等待時間
- 確保等待時間在指定範圍內

---

### 非功能需求

1. **精確性**：時間測量要精確，誤差應小於 10 毫秒
2. **響應性**：按鍵檢測要即時，沒有明顯延遲
3. **視覺清晰**：提示要明顯，容易識別
4. **資料持久化**：測試記錄要可靠儲存

---

## PRD 使用提示

### 給學生的建議

1. **從簡單開始**：第一次可以只實作基本的視覺反應測試
2. **逐步增加功能**：熟悉後再增加統計、歷史記錄等功能
3. **調整參數**：可以調整等待時間範圍、評級標準等
4. **學習時間測量**：了解如何精確測量時間，這是這個遊戲的核心技術

---

## 與迭代開發的差異

- **迭代開發**：從簡單版本開始，逐步增加功能
- **PRD 開發**：先完整規劃需求，一次性或分階段完成所有功能

兩種方式各有優點，可以根據情況選擇使用！
