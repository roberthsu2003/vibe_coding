# 貪食蛇遊戲 - PRD 需求文件教學

> **重要提示**：本遊戲使用 HTML、CSS 和 JavaScript 開發，**不需要安裝任何環境或套件**，直接在瀏覽器中打開 HTML 檔案即可運行。

## 什麼是 PRD？

PRD（Product Requirements Document，產品需求文件）是用來描述產品功能和需求的文件。在軟體開發中，PRD 幫助開發者理解：
- 產品要做什麼
- 功能有哪些
- 使用者如何與產品互動
- 技術要求是什麼

## 如何使用 PRD 產生程式碼

### 步驟 1：撰寫 PRD
根據下面的 PRD 範例，撰寫你的遊戲需求文件。

### 步驟 2：將 PRD 提供給 AI
將完整的 PRD 複製給 AI（如 Cursor），並加上以下 prompt：

```
請根據以下 PRD（產品需求文件）來建立這個遊戲。

[貼上你的 PRD 內容]

請使用 HTML、CSS 和 JavaScript 實作，使用 HTML5 Canvas 來繪製遊戲畫面，所有程式碼要能在瀏覽器中直接運行，不需要安裝任何環境。
```

### 步驟 3：測試與調整
測試 AI 產生的程式碼，如有問題可修改 PRD 或直接告訴 AI 需要改進的地方。

---

## PRD 範例

### 產品概述

**產品名稱**：貪食蛇遊戲（Snake Game）

**產品目標**：建立一個經典的街機遊戲，玩家控制蛇移動吃食物來成長，但要避免撞到牆壁或自己的身體。

**目標使用者**：所有年齡層的遊戲玩家

**技術要求**：
- 使用 HTML、CSS、JavaScript
- 使用 HTML5 Canvas 繪製遊戲畫面
- 不需要安裝任何環境或套件
- 直接在瀏覽器中運行
- 使用 localStorage 儲存遊戲記錄

---

### 功能需求

#### 1. 遊戲元素

**蛇（Snake）**：
- 初始長度為 3-4 節
- 使用陣列儲存蛇的身體座標（每個座標代表一節）
- 蛇頭和蛇身用不同顏色或形狀區分（可選）
- 蛇的移動方向：上、下、左、右

**食物（Food）**：
- 在遊戲區域的隨機位置生成
- 確保不會生成在蛇的身體上
- 使用明顯的顏色或圖案（例如：紅色圓形、蘋果圖示）

**遊戲區域**：
- 固定大小的遊戲畫布（例如 800x600 像素）
- 使用網格系統（例如 20x20 的格子，每個格子 30x30 像素）
- 有邊界（牆壁）

#### 2. 遊戲機制

**移動控制**：
- 使用方向鍵（↑↓←→）控制蛇的移動方向
- 不能直接反向移動（例如：向上移動時不能直接按向下）
- 蛇持續移動，不需要持續按鍵

**移動邏輯**：
- 蛇以固定速度移動（例如每秒移動 10 格）
- 每次移動：在蛇頭前方加入新的一節，移除蛇尾
- 使用 `requestAnimationFrame` 實現流暢動畫

**吃食物**：
- 當蛇頭碰到食物時：
  - 蛇的長度增加一節（不移除蛇尾）
  - 在隨機位置生成新的食物
  - 分數增加

**碰撞檢測**：
- 蛇頭碰到牆壁：遊戲結束
- 蛇頭碰到自己的身體：遊戲結束
- 使用座標比較來檢測碰撞

#### 3. 計分系統

**計分規則**：
- 每吃一個食物得 10 分
- 在畫面上顯示當前分數
- 遊戲結束時顯示最終分數

**速度調整**（進階）：
- 隨著分數增加，蛇的移動速度逐漸加快
- 或每吃 5 個食物，速度增加一次
- 速度有上限，不會無限加快

#### 4. 生命系統（進階）

- **初始生命**：3 條生命
- **生命顯示**：在畫面上顯示剩餘生命數（例如：❤️❤️❤️）
- **失去生命**：撞到牆壁或身體時失去一條生命
- **重新開始**：失去生命後，蛇重新從初始位置開始，長度重置

#### 5. 遊戲狀態管理

**開始畫面**：
- 遊戲標題
- 開始按鈕
- 操作說明（方向鍵控制）

**遊戲中**：
- 顯示分數
- 顯示生命數（如果有生命系統）
- 顯示當前關卡（如果有關卡系統）
- 暫停功能：按 P 鍵可以暫停/繼續遊戲

**遊戲結束畫面**：
- 顯示最終分數
- 顯示蛇的長度
- 顯示「遊戲結束」訊息
- 提供「重新開始」按鈕（按 R 鍵或點擊按鈕）

#### 6. 特殊食物（進階功能）

**普通食物**：
- +1 節，+10 分

**金色食物**（較少出現）：
- +2 節，+30 分
- 用不同顏色或圖案表示

**減速食物**：
- +1 節，+10 分
- 蛇的速度暫時減慢（持續 5 秒）

**加速食物**：
- +1 節，+10 分
- 蛇的速度暫時加快（持續 5 秒）

**特殊效果顯示**：
- 在畫面上顯示效果剩餘時間
- 使用不同顏色或圖示表示

#### 7. 障礙物（進階功能）

- 在遊戲區域中隨機生成障礙物（牆壁）
- 障礙物用不同顏色或圖案表示
- 蛇碰到障礙物時遊戲結束
- 確保食物不會生成在障礙物上
- 確保障礙物不會完全封閉遊戲區域

#### 8. 關卡系統（進階功能）

**關卡設計**：
- 多個關卡，每個關卡有不同的障礙物配置
- 關卡難度逐漸增加（更多障礙物、更複雜的排列）

**通關條件**：
- 達到目標分數（例如：關卡 1 需要 100 分）
- 或吃到足夠的食物（例如：關卡 1 需要吃 10 個食物）

**關卡進度**：
- 顯示當前關卡編號
- 顯示關卡完成進度（當前分數/目標分數）

**通關獎勵**：
- 完成關卡時給予額外分數
- 顯示關卡完成訊息
- 自動進入下一關

#### 9. 難度選擇（進階）

**難度選項**：
- 簡單：速度較慢，障礙物較少或無
- 中等：速度正常，障礙物適中
- 困難：速度較快，障礙物較多

#### 10. 視覺效果

**蛇的設計**：
- 蛇頭和蛇身用不同顏色
- 平滑的移動動畫
- 轉彎時的視覺效果

**食物動畫**：
- 食物可以有小幅度的動畫（例如：旋轉、脈衝）
- 吃食物時的動畫效果

**背景設計**：
- 使用漸層或圖片作為背景
- 網格線（可選）

**遊戲結束動畫**：
- 遊戲結束時的視覺效果

#### 11. 遊戲記錄（進階功能）

**記錄項目**：
- 最高分數
- 最長蛇的長度
- 最佳關卡進度
- 總遊戲次數
- 總共吃過的食物數量

**資料儲存**：
- 使用 localStorage 儲存記錄
- 使用 JSON 格式儲存結構化資料

**統計顯示**：
- 在遊戲結束畫面顯示統計資訊
- 在主選單顯示最佳成績

---

### 使用者介面需求

#### 1. 主畫面（開始畫面）
- 遊戲標題
- 難度選擇（如果有）
- 開始按鈕
- 操作說明
- 最佳成績顯示（可選）

#### 2. 遊戲畫面
- 分數顯示（左上角）
- 生命數顯示（右上角，如果有）
- 關卡編號（如果有）
- 特殊效果剩餘時間（如果有）
- Canvas 遊戲區域（中央）

#### 3. 暫停畫面
- 半透明覆蓋層
- 「遊戲暫停」文字
- 「繼續」按鈕
- 「返回主選單」按鈕

#### 4. 遊戲結束畫面
- 最終分數顯示
- 蛇的長度顯示
- 關卡進度（如果有）
- 統計資訊
- 「重新開始」按鈕
- 「返回主選單」按鈕

---

### 技術規格

#### 1. 檔案結構
- 建議使用單一 HTML 檔案，或分為 HTML、CSS、JavaScript 三個檔案

#### 2. 技術要求
- **HTML5 Canvas**：用於繪製遊戲畫面
- **requestAnimationFrame**：實現遊戲動畫迴圈
- **鍵盤事件**：監聽方向鍵
- **陣列操作**：使用陣列儲存蛇的身體座標
- **碰撞檢測**：使用座標比較檢測碰撞
- **隨機生成**：使用 `Math.random()` 生成食物和障礙物位置
- **localStorage**：儲存遊戲記錄

#### 3. 座標系統
- 使用網格系統（例如：20x20 格子）
- 每個格子有固定的 x, y 座標
- 蛇和食物都對齊到網格

#### 4. 遊戲迴圈
```
1. 處理輸入（方向鍵）
2. 更新遊戲狀態（移動蛇、檢測碰撞、檢測吃食物）
3. 繪製畫面（清空畫布、繪製蛇、繪製食物、繪製UI）
4. 重複（使用 requestAnimationFrame）
```

---

### 非功能需求

1. **效能**：遊戲應該以 60 FPS 流暢運行
2. **響應性**：控制應該即時響應，沒有延遲
3. **可玩性**：難度適中，速度不會太快導致無法控制
4. **視覺清晰**：蛇、食物、障礙物要容易區分

---

## PRD 使用提示

### 給學生的建議

1. **從基礎開始**：第一次可以只實作基本功能（蛇移動、吃食物、碰撞檢測）
2. **逐步增加**：熟悉後再增加計分、生命、關卡等功能
3. **調整參數**：可以調整蛇的速度、遊戲區域大小、食物生成頻率等
4. **學習陣列操作**：了解如何使用陣列來儲存和操作蛇的身體
5. **學習碰撞檢測**：了解如何檢測蛇頭與牆壁、身體、食物的碰撞

---

## 與迭代開發的差異

- **迭代開發**：從簡單版本開始，逐步增加功能
- **PRD 開發**：先完整規劃需求，一次性或分階段完成所有功能

兩種方式各有優點，可以根據情況選擇使用！
