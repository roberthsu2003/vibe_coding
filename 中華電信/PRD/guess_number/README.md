# 猜數字遊戲 - PRD 需求文件教學

> **重要提示**：本遊戲使用 HTML、CSS 和 JavaScript 開發，**不需要安裝任何環境或套件**，直接在瀏覽器中打開 HTML 檔案即可運行。

## 什麼是 PRD？

PRD（Product Requirements Document，產品需求文件）是用來描述產品功能和需求的文件。在軟體開發中，PRD 幫助開發者理解：
- 產品要做什麼
- 功能有哪些
- 使用者如何與產品互動
- 技術要求是什麼

## 如何使用 PRD 產生程式碼

### 步驟 1：撰寫 PRD
根據下面的 PRD 範例，撰寫你的遊戲需求文件。

### 步驟 2：將 PRD 提供給 AI
將完整的 PRD 複製給 AI（如 Cursor），並加上以下 prompt：

```
請根據以下 PRD（產品需求文件）來建立這個遊戲。

[貼上你的 PRD 內容]

請使用 HTML、CSS 和 JavaScript 實作，所有程式碼要能在瀏覽器中直接運行，不需要安裝任何環境。
```

### 步驟 3：測試與調整
測試 AI 產生的程式碼，如有問題可修改 PRD 或直接告訴 AI 需要改進的地方。

---

## PRD 範例

### 產品概述

**產品名稱**：猜數字遊戲（Number Guessing Game）

**產品目標**：建立一個經典的邏輯推理遊戲，玩家透過提示來猜出電腦隨機產生的數字。

**目標使用者**：所有年齡層的玩家，特別適合初學者學習程式邏輯

**技術要求**：
- 使用 HTML、CSS、JavaScript
- 不需要安裝任何環境或套件
- 直接在瀏覽器中運行
- 使用 localStorage 儲存遊戲記錄

---

### 功能需求

#### 1. 基本遊戲流程

**數字生成**：
- 電腦隨機產生一個指定範圍內的數字（例如 1-100）
- 使用 `Math.random()` 生成隨機數
- 數字對玩家隱藏

**玩家輸入**：
- 提供數字輸入框（HTML input type="number"）
- 提供「猜測」按鈕
- 支援按 Enter 鍵提交猜測

**提示系統**：
- 如果猜的數字太大：顯示「太大了！」（使用紅色或向上箭頭）
- 如果猜的數字太小：顯示「太小了！」（使用藍色或向下箭頭）
- 如果猜對了：顯示「恭喜！猜對了！」（使用綠色或慶祝動畫）

**猜測記錄**：
- 記錄每次猜測的數字
- 記錄猜測次數
- 顯示猜測歷史列表

#### 2. 難度選擇

**預設難度**：
- 簡單：1-50 的範圍，最多 10 次機會
- 中等：1-100 的範圍，最多 7 次機會
- 困難：1-200 的範圍，最多 5 次機會

**自訂範圍**（進階）：
- 允許玩家輸入自訂的最小值和最大值
- 根據範圍大小自動計算允許的猜測次數
- 公式：允許次數 = Math.ceil(Math.log2(範圍大小))

#### 3. 機會限制

**機會系統**：
- 根據難度設定允許的猜測次數
- 顯示剩餘機會數（例如：剩餘 5 次機會）
- 每次猜測後機會數減 1

**遊戲結束條件**：
- 猜對數字：顯示成功訊息和猜測次數
- 機會用盡：顯示「遊戲結束」，並顯示正確答案

#### 4. 遊戲統計

**單局統計**：
- 猜測次數
- 使用的機會數
- 是否成功

**歷史統計**：
- 總遊戲次數
- 成功次數
- 平均猜測次數
- 最佳成績（最少猜測次數）
- 成功率

#### 5. 視覺化提示（進階）

**範圍視覺化**：
- 使用進度條或數線顯示當前可能的數字範圍
- 標記已猜過的數字位置
- 用顏色區分：太大（紅色區域）、太小（藍色區域）、可能範圍（綠色區域）

**猜測歷史視覺化**：
- 顯示所有猜過的數字
- 用顏色標記：太大（紅色）、太小（藍色）
- 按時間順序排列

#### 6. 提示功能（進階）

**範圍提示**：
- 「提示」按鈕：顯示當前可能的數字範圍
- 例如：「可能的範圍：23 - 67」

**建議功能**：
- 「建議」按鈕：根據當前範圍建議一個最佳猜測數字
- 使用二分搜尋策略（選擇範圍的中間值）

**策略教學**：
- 遊戲結束後顯示策略分析
- 說明如果使用最佳策略（二分搜尋）需要幾次猜測
- 比較玩家實際猜測次數與最佳策略的差異

#### 7. 多人模式（進階功能）

**輪流模式**：
- 兩個玩家輪流猜測同一個數字
- 先猜對的玩家獲勝
- 記錄每個玩家的猜測次數

**競賽模式**：
- 多個玩家同時進行遊戲（各自猜自己的數字）
- 比較誰用最少的次數猜對
- 顯示排行榜

**電腦對手模式**：
- 玩家可以選擇與電腦對戰
- 電腦使用最佳策略（二分搜尋）
- 比較玩家和電腦的表現

#### 8. 遊戲記錄（進階功能）

**最佳成績**：
- 記錄每種難度的最佳成績（最少猜測次數）
- 記錄最佳時間（如果有計時功能）

**遊戲歷史**：
- 記錄最近 20 局遊戲的詳細資料
- 使用 localStorage 儲存

**排行榜**：
- 顯示前 10 名最佳成績
- 記錄玩家名稱（可選）

---

### 使用者介面需求

#### 1. 主畫面（開始畫面）
- 遊戲標題
- 難度選擇按鈕（簡單、中等、困難、自訂）
- 如果是自訂，顯示輸入框讓玩家輸入範圍
- 開始遊戲按鈕

#### 2. 遊戲畫面
- 當前難度或範圍顯示
- 剩餘機會數顯示（大字體，醒目）
- 數字輸入框
- 「猜測」按鈕
- 提示訊息區域（顯示「太大」、「太小」等）
- 猜測歷史列表（顯示已猜過的數字）

#### 3. 範圍視覺化（進階）
- 進度條或數線顯示當前可能的範圍
- 標記已猜過的數字

#### 4. 遊戲結束畫面
- 成功/失敗訊息
- 顯示正確答案（如果失敗）
- 顯示猜測次數
- 顯示統計資訊
- 「再玩一次」按鈕
- 「返回主選單」按鈕

#### 5. 統計畫面（進階）
- 顯示歷史統計資訊
- 顯示最佳成績
- 顯示遊戲歷史列表

---

### 技術規格

#### 1. 檔案結構
- 建議使用單一 HTML 檔案，或分為 HTML、CSS、JavaScript 三個檔案

#### 2. 技術要求
- **隨機數生成**：
  - 使用 `Math.random()` 生成隨機數字
  - 確保數字在指定範圍內
- **輸入驗證**：
  - 驗證輸入是否為有效數字
  - 驗證輸入是否在允許範圍內
  - 顯示錯誤訊息（如果輸入無效）
- **狀態管理**：
  - 追蹤當前遊戲狀態（未開始、進行中、已結束）
  - 追蹤猜測次數、剩餘機會、猜測歷史
- **資料儲存**：
  - 使用 localStorage 儲存遊戲記錄和統計資料
  - 使用 JSON 格式儲存結構化資料
- **視覺化**（進階）：
  - 使用 CSS 和 JavaScript 實現範圍視覺化
  - 使用 Canvas 繪製數線或圖表（可選）

#### 3. 演算法（進階）
- **二分搜尋**：用於建議功能和電腦對手
- 選擇範圍的中間值作為猜測，可以最快縮小範圍

---

### 非功能需求

1. **可用性**：介面清晰易懂，操作直觀
2. **響應性**：輸入和反饋要即時
3. **教育性**：幫助玩家理解邏輯推理和演算法概念
4. **資料持久化**：遊戲記錄要可靠儲存

---

## PRD 使用提示

### 給學生的建議

1. **從簡單開始**：第一次可以只實作基本的猜數字功能（輸入、提示、判斷）
2. **逐步增加功能**：熟悉後再增加難度選擇、統計、視覺化等功能
3. **學習演算法**：了解二分搜尋法，這是解決這類問題的最佳策略
4. **調整參數**：可以調整範圍、機會數等來改變遊戲難度

---

## 與迭代開發的差異

- **迭代開發**：從簡單版本開始，逐步增加功能
- **PRD 開發**：先完整規劃需求，一次性或分階段完成所有功能

兩種方式各有優點，可以根據情況選擇使用！
