# Bug Fixing Prompts

> AI 輔助除錯與問題解決的 Prompt 範本集

---

## 基本除錯

### Prompt 1: 找出Bug 原因

```
我遇到一個 Bug,請幫我分析可能的原因:

**預期行為**:
[描述程式應該如何運作]

**實際行為**:
[描述實際發生了什麼]

**錯誤訊息** (如果有):
[貼上完整的錯誤訊息和 stack trace]

**相關程式碼**:
[貼上相關的程式碼片段]

**環境資訊**:
- 作業系統: [Windows / macOS / Linux]
- 程式語言版本: [例如 Node.js v18]
- 相關套件版本: [例如 React 18.2]

請提供:
1. 可能的原因分析
2. 如何驗證每個可能原因
3. 建議的除錯步驟
4. 修復建議
```

---

### Prompt 2: 解釋錯誤訊息

```
我看不懂這個錯誤訊息,請幫我解釋:

錯誤訊息:
[貼上完整錯誤訊息]

相關程式碼:
[貼上觸發錯誤的程式碼]

請說明:
1. 這個錯誤是什麼意思?
2. 為什麼會發生?
3. 如何修復?
4. 如何避免未來再發生?
```

---

## 特定類型的 Bug

### Prompt 3: 邏輯錯誤

```
這段程式碼的邏輯有問題,但我找不出來:

預期結果: [應該輸出什麼]
實際結果: [實際輸出什麼]

[貼上程式碼]

請幫我:
1. 逐步追蹤程式執行流程
2. 指出邏輯錯誤的位置
3. 說明為什麼這個邏輯是錯的
4. 提供正確的邏輯
```

---

### Prompt 4: 非同步問題

```
我的非同步程式碼有問題:

問題描述:
- [例如: 資料還沒載入就渲染了]
- [例如: Promise 沒有正確等待]
- [例如: Race condition]

[貼上程式碼]

請幫我:
1. 找出非同步處理的問題
2. 說明執行順序
3. 提供正確的非同步處理方式
```

---

### Prompt 5: 記憶體洩漏

```
我的應用程式有記憶體洩漏問題:

症狀:
- [例如: 記憶體使用持續上升]
- [例如: 長時間執行後變慢]

可能相關的程式碼:
[貼上程式碼]

請幫我:
1. 找出可能造成記憶體洩漏的地方
2. 說明為什麼會洩漏
3. 提供修復方案
4. 建議如何監控記憶體使用
```

---

### Prompt 6: 效能問題

```
這段程式碼執行得很慢:

效能問題:
- 執行時間: [例如 5 秒]
- 期望時間: [例如 < 1 秒]
- 資料量: [例如 10000 筆資料]

[貼上程式碼]

請分析:
1. 效能瓶頸在哪裡?
2. 時間複雜度是多少?
3. 如何優化?
4. 優化後預期的效能提升
```

---

## 特定環境的 Bug

### Prompt 7: 跨瀏覽器問題

```
這個功能在某些瀏覽器不正常:

正常的瀏覽器: [例如 Chrome 最新版]
有問題的瀏覽器: [例如 Safari 15]

問題描述: [什麼功能不正常]

[貼上程式碼]

請幫我:
1. 找出相容性問題
2. 說明為什麼在特定瀏覽器會有問題
3. 提供跨瀏覽器的解決方案
4. 建議相容性測試策略
```

---

### Prompt 8: 環境相關問題

```
這個程式碼在開發環境正常,但在生產環境有問題:

開發環境: [環境說明]
生產環境: [環境說明]

問題現象: [描述問題]

[貼上程式碼和設定]

請幫我:
1. 分析環境差異
2. 找出可能的原因
3. 建議修復方式
4. 如何避免環境差異問題
```

---

## 除錯策略

### Prompt 9: 除錯計畫

```
我遇到一個複雜的 Bug,不知道從何開始,請幫我制定除錯計畫:

問題描述: [詳細描述]

已知資訊:
- [資訊 1]
- [資訊 2]

未知資訊:
- [不確定的部分]

請提供:
1. 系統化的除錯步驟
2. 每一步要收集什麼資訊
3. 如何驗證假設
4. 建議使用的除錯工具
```

---

### Prompt 10: 加入除錯輸出

```
請幫我在這段程式碼中加入適當的除錯輸出 (log / console):

目標:
1. 追蹤程式執行流程
2. 檢查變數值
3. 找出錯誤發生的位置

[貼上程式碼]

請提供:
- 加入 log 後的程式碼
- 每個 log 的目的說明
- 如何解讀 log 輸出
```

---

## 特定框架/工具的 Bug

### Prompt 11: React 相關問題

```
我的 React 元件有問題:

問題:
- [例如: 狀態沒有更新]
- [例如: 無限迴圈渲染]
- [例如: useEffect 執行時機不對]

[貼上 React 元件程式碼]

請幫我:
1. 找出 React 使用上的問題
2. 說明為什麼會這樣
3. 提供正確的 React 寫法
4. 相關的 React 最佳實踐
```

---

### Prompt 12: API/後端問題

```
我的 API 有問題:

問題描述:
- 端點: [GET /api/...]
- 預期回應: [200 + 資料]
- 實際回應: [例如 500 錯誤]

錯誤訊息:
[貼上後端錯誤訊息]

相關程式碼:
[貼上 API handler 程式碼]

請幫我:
1. 找出 API 的問題
2. 檢查請求/回應處理
3. 驗證錯誤處理邏輯
4. 提供修復方案
```

---

### Prompt 13: 資料庫問題

```
我的資料庫操作有問題:

問題:
- [例如: 查詢很慢]
- [例如: 資料沒有正確儲存]
- [例如: 死鎖]

SQL 查詢/ORM 程式碼:
[貼上相關程式碼]

資料庫: [MySQL / PostgreSQL / MongoDB / etc.]

請幫我:
1. 分析查詢問題
2. 檢查索引設計
3. 優化建議
4. 除錯步驟
```

---

## 安全性 Bug

### Prompt 14: 安全漏洞修復

```
發現了一個安全漏洞,請幫我修復:

漏洞類型: [SQL Injection / XSS / CSRF / etc.]

漏洞位置:
[貼上有問題的程式碼]

攻擊場景:
[如果知道,描述如何被攻擊]

請提供:
1. 漏洞的詳細分析
2. 攻擊示範 (如果安全的話)
3. 修復程式碼
4. 預防類似問題的措施
```

---

## 測試相關問題

### Prompt 15: 測試失敗除錯

```
我的測試失敗了,但不知道為什麼:

測試程式碼:
[貼上測試]

失敗訊息:
[貼上錯誤訊息]

被測試的程式碼:
[貼上程式碼]

請幫我:
1. 分析測試為什麼失敗
2. 是程式碼問題還是測試問題?
3. 如何修復
4. 如何改善測試品質
```

---

### Prompt 16: Flaky Test (不穩定測試)

```
這個測試有時候通過,有時候失敗:

測試程式碼:
[貼上測試]

失敗頻率: [例如 30% 失敗]

請幫我:
1. 找出不穩定的原因
2. 可能是時間相關? 非同步? 隨機性?
3. 如何修復讓測試穩定
4. 測試的最佳實踐
```

---

## 第三方套件問題

### Prompt 17: 套件衝突

```
我遇到套件版本衝突:

錯誤訊息:
[貼上 npm/pip/maven 錯誤訊息]

package.json / requirements.txt / pom.xml:
[貼上依賴列表]

請幫我:
1. 分析衝突原因
2. 找出相容的版本組合
3. 建議解決方案
4. 避免未來衝突的策略
```

---

### Prompt 18: 套件使用問題

```
我在使用第三方套件時遇到問題:

套件名稱: [例如 axios]
版本: [例如 1.x.x]

問題描述:
[描述問題]

我的程式碼:
[貼上使用套件的程式碼]

錯誤訊息:
[如果有]

請幫我:
1. 檢查套件使用方式是否正確
2. 查看是否有文件沒看到的注意事項
3. 提供正確的使用範例
4. 建議的替代方案 (如果需要)
```

---

## 重現問題

### Prompt 19: 建立最小重現範例

```
我想建立一個最小重現範例 (Minimal Reproducible Example) 來回報 Bug:

完整專案程式碼:
[貼上相關程式碼]

問題描述:
[描述 Bug]

請幫我:
1. 提取最小的程式碼重現問題
2. 移除不相關的部分
3. 建立獨立可執行的範例
4. 準備 Bug Report
```

---

## 回歸 Bug

### Prompt 20: 回歸問題分析

```
這個功能之前是正常的,但現在壞了 (Regression):

最後正常的版本: [例如 v1.2.3]
開始出問題的版本: [例如 v1.3.0]

問題描述: [什麼壞了]

期間的變更:
[如果知道,列出相關的 commit 或 PR]

請幫我:
1. 分析可能造成回歸的原因
2. 如何找出是哪個變更導致的
3. 修復建議
4. 如何避免回歸 (建議測試策略)
```

---

## 除錯工具使用

### Prompt 21: 使用除錯工具

```
請教我如何使用除錯工具來找出這個問題:

開發環境: [VS Code / Chrome DevTools / Node.js debugger / etc.]

問題程式碼:
[貼上程式碼]

問題描述:
[描述 Bug]

請提供:
1. 除錯工具的設定方式
2. 設定中斷點的位置
3. 應該檢查哪些變數
4. 逐步除錯的步驟
5. 如何解讀除錯資訊
```

---

## 效能分析

### Prompt 22: Profiling 分析

```
請幫我分析這段程式碼的效能問題:

Profiling 結果:
[貼上 profiling 報告]

程式碼:
[貼上程式碼]

請幫我:
1. 解讀 profiling 結果
2. 找出效能熱點 (hotspots)
3. 分析為什麼這些地方慢
4. 優化建議
```

---

## 常見問題排解

### Prompt 23: 常見錯誤檢查清單

```
我遇到 [錯誤訊息],請提供檢查清單:

錯誤類型: [例如 "Cannot read property 'x' of undefined"]

請提供:
1. 這個錯誤常見的原因
2. 檢查清單 (從最常見到罕見)
3. 每個原因的驗證方式
4. 預防措施
```

---

## 學習與預防

### Prompt 24: 從 Bug 學習

```
我剛修復了一個 Bug,請幫我總結學習要點:

Bug 原因:
[說明 Bug 是什麼]

修復方式:
[如何修復的]

請幫我:
1. 分析根本原因
2. 這類問題的共同特徵
3. 如何提早發現類似問題
4. 預防措施 (測試、程式碼審查重點等)
5. 是否有設計上的問題需要改善
```

---

### Prompt 25: 建立錯誤處理機制

```
我經常遇到 [某類問題],請幫我建立預防機制:

問題類型: [例如 API 失敗]

請建議:
1. 適當的錯誤處理機制
2. 重試策略
3. 降級方案 (fallback)
4. 監控和警報
5. 使用者友善的錯誤訊息
```

---

## 使用技巧

### 有效除錯的流程

1. **重現問題**: 確保能穩定重現 Bug
2. **收集資訊**: 錯誤訊息、環境、輸入資料
3. **縮小範圍**: 找出問題的最小範圍
4. **提出假設**: 猜測可能的原因
5. **驗證假設**: 用實驗驗證每個假設
6. **修復驗證**: 確認修復後問題解決
7. **預防未來**: 加入測試防止回歸

### 向 AI 提問的技巧

1. **提供完整資訊**:
   - 錯誤訊息 (完整的 stack trace)
   - 相關程式碼
   - 環境資訊
   - 預期行為 vs 實際行為

2. **先自己嘗試**:
   - 做了什麼嘗試?
   - 哪些有效? 哪些無效?
   - 這些資訊能幫助 AI 更精準地協助

3. **保持對話**:
   - AI 的第一個建議可能不準確
   - 提供回饋,進行多輪對話
   - 逐步縮小問題範圍

---

**提示**:
- 除錯是一種技能,需要練習和經驗累積
- 記錄解決過的問題,建立自己的知識庫
- 好的錯誤處理和日誌可以大幅減少除錯時間
- 當卡住時,休息一下常常會有新想法
