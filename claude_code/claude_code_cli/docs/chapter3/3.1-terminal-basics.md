# 3.1 終端機基礎操作

## 什麼是終端機？

終端機（Terminal）是一個文字介面的程式，讓你可以透過打字指令來控制電腦。雖然看起來比較「古老」，但對於開發者來說，終端機是非常強大且高效的工具。

## 開啟終端機

### Windows
- **PowerShell**（推薦）：
  - 按 `Win + X`，選擇「Windows PowerShell」
  - 或搜尋「PowerShell」

- **Windows Terminal**（更佳）：
  - 從 Microsoft Store 安裝
  - 搜尋「Terminal」開啟

- **命令提示字元** (CMD)：
  - 按 `Win + R`，輸入 `cmd`

### macOS
- **Terminal**（內建）：
  - 按 `Cmd + Space`，搜尋「Terminal」
  - 或在「應用程式 > 工具程式」中找到

- **iTerm2**（進階選擇）：
  - 下載：https://iterm2.com/

### Linux
- 按 `Ctrl + Alt + T`（大部分發行版）
- 或搜尋「Terminal」

## 基本命令

### 查看目前位置
```bash
# Windows (PowerShell)
pwd

# macOS/Linux
pwd
```

### 列出檔案
```bash
# Windows (PowerShell)
ls
# 或
dir

# macOS/Linux
ls

# 顯示詳細資訊
ls -la
```

### 切換目錄
```bash
# 進入某個目錄
cd Documents

# 回到上一層
cd ..

# 回到家目錄
cd ~

# 絕對路徑
cd /Users/yourname/Projects
```

### 建立目錄
```bash
mkdir my-project

# 建立多層目錄
mkdir -p projects/claude-cli/src
```

### 建立檔案
```bash
# Windows (PowerShell)
New-Item test.js

# macOS/Linux
touch test.js
```

### 刪除檔案/目錄
```bash
# 刪除檔案
rm test.js

# 刪除目錄（及其內容）
rm -rf my-folder
```

⚠️ **注意**：`rm -rf` 會永久刪除，無法復原！

### 複製和移動
```bash
# 複製檔案
cp source.js destination.js

# 移動/重新命名
mv old-name.js new-name.js
```

### 查看檔案內容
```bash
# 顯示整個檔案
cat file.txt

# 分頁顯示
less file.txt  # 按 q 離開

# 顯示前幾行
head file.txt

# 顯示後幾行
tail file.txt
```

## 終端機快捷鍵

### 通用快捷鍵

| 快捷鍵 | 功能 |
|--------|------|
| `Tab` | 自動完成 |
| `↑` / `↓` | 瀏覽命令歷史 |
| `Ctrl + C` | 中斷目前命令 |
| `Ctrl + D` | 結束輸入/離開 |
| `Ctrl + L` | 清除螢幕 |
| `Ctrl + A` | 跳到行首 |
| `Ctrl + E` | 跳到行尾 |
| `Ctrl + U` | 刪除游標前的內容 |
| `Ctrl + K` | 刪除游標後的內容 |

### Tab 自動完成示範

```bash
# 輸入部分指令後按 Tab
cd Doc[Tab]
# 自動完成為
cd Documents/

# 按兩次 Tab 顯示所有選項
cd D[Tab][Tab]
# 顯示所有 D 開頭的目錄
```

## 命令組合技巧

### 使用管線 (Pipe)
```bash
# 將一個命令的輸出傳給另一個命令
ls -la | grep ".js"

# 查看檔案並搜尋內容
cat app.js | grep "function"
```

### 重導向輸出
```bash
# 將輸出儲存到檔案
ls > files.txt

# 附加到檔案
echo "新內容" >> log.txt
```

### 連續執行命令
```bash
# 依序執行（前面成功才執行下一個）
mkdir new-project && cd new-project && npm init -y

# 依序執行（不管成功失敗）
command1 ; command2 ; command3

# 前面失敗才執行下一個
command1 || command2
```

## 環境變數

### 查看環境變數
```bash
# Windows (PowerShell)
$env:PATH
$env:ANTHROPIC_API_KEY

# macOS/Linux
echo $PATH
echo $ANTHROPIC_API_KEY
```

### 設定環境變數
```bash
# Windows (PowerShell) - 暫時
$env:MY_VAR = "value"

# macOS/Linux (Bash) - 暫時
export MY_VAR="value"

# 永久設定（加入設定檔）
echo 'export MY_VAR="value"' >> ~/.bashrc
source ~/.bashrc
```

## 實用工具命令

### 搜尋檔案
```bash
# Windows (PowerShell)
Get-ChildItem -Recurse -Filter "*.js"

# macOS/Linux
find . -name "*.js"
```

### 搜尋內容
```bash
# 在檔案中搜尋文字
grep "search term" file.txt

# 遞迴搜尋所有檔案
grep -r "search term" ./
```

### 查看磁碟空間
```bash
# Windows (PowerShell)
Get-PSDrive

# macOS/Linux
df -h
```

### 查看處理程序
```bash
# Windows (PowerShell)
Get-Process

# macOS/Linux
ps aux
top  # 即時監控
```

## 練習任務

完成以下任務來熟悉終端機操作：

1. **建立專案結構**：
```bash
mkdir -p claude-practice/{src,tests,docs}
cd claude-practice
ls -la
```

2. **建立檔案**：
```bash
touch src/app.js
touch tests/app.test.js
touch README.md
```

3. **查看結構**：
```bash
ls -R
```

4. **清理**：
```bash
cd ..
rm -rf claude-practice
```

## 小技巧

### 1. 使用別名 (Alias)
```bash
# macOS/Linux
alias ll='ls -la'
alias gs='git status'

# 永久設定
echo "alias ll='ls -la'" >> ~/.bashrc
```

### 2. 使用歷史命令
```bash
# 查看命令歷史
history

# 執行歷史中的命令
!123  # 執行編號 123 的命令
!!    # 執行上一個命令

# 搜尋歷史
Ctrl + R  # 然後輸入關鍵字
```

### 3. 使用萬用字元
```bash
# * 代表任意字元
ls *.js  # 所有 .js 檔案
rm test*  # 所有 test 開頭的檔案

# ? 代表單一字元
ls file?.txt  # file1.txt, fileA.txt 等
```

⏳ **本節內容持續補充中**

---

## 導航

- **上一章**: [第二章：安裝設定](../chapter2/README.md)
- **下一節**: [3.2 基本命令元素](./3.2-basic-commands.md)
- **返回**: [第三章目錄](./README.md)
