# 2.2 安裝 Claude Code CLI

## 安裝方式

### 使用 npm 安裝（推薦）

```bash
# 全域安裝 Claude Code CLI
npm install -g @anthropic-ai/claude-cli

# 驗證安裝
claude --version
```

### 使用 yarn 安裝

```bash
# 全域安裝
yarn global add @anthropic-ai/claude-cli

# 驗證安裝
claude --version
```

## 預期輸出

安裝成功後，執行 `claude --version` 應該會看到：

```
Claude CLI v1.0.0
```

## 常見安裝問題

### 權限錯誤（macOS/Linux）

```bash
# 方法 1: 使用 sudo（快速但不推薦）
sudo npm install -g @anthropic-ai/claude-cli

# 方法 2: 設定 npm 全域目錄（推薦）
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
source ~/.bashrc
npm install -g @anthropic-ai/claude-cli
```

### 網路問題

```bash
# 使用國內鏡像
npm install -g @anthropic-ai/claude-cli --registry https://registry.npmmirror.com
```

## ✅ 驗證安裝成功

執行以下命令確認安裝成功：

```bash
# 查看版本
claude --version

# 查看幫助
claude --help

# 查看可用命令
claude
```

---

## 導航

- **上一節**: [2.1 安裝 Node.js](./2.1-install-nodejs.md)
- **下一節**: [2.3 設定 API 金鑰](./2.3-api-key.md)
- **返回**: [第二章目錄](./README.md)
