# 6.3 步驟二：新增功能

現在頁面有了架構，但按鈕還沒有功能。讓我們請 Claude 加入 JavaScript。

## 💬 繼續在 Claude Code 輸入：

```
為這個待辦事項頁面加入 JavaScript 功能：
1. 點擊「新增」按鈕後，將輸入框的文字加入清單
2. 每個清單項目旁邊有一個「刪除」按鈕
3. 點擊「刪除」按鈕可以移除該項目
4. 新增後清空輸入框
5. 如果輸入框是空的，不要新增

請把 JavaScript 放在 HTML 的 <script> 標籤中。
```

📸 *[需要加入操作截圖]*

## Claude 會生成 JavaScript 程式碼：

```html
<script>
    // 取得 DOM 元素
    const todoInput = document.getElementById('todoInput');
    const addBtn = document.getElementById('addBtn');
    const todoList = document.getElementById('todoList');

    // 新增待辦事項的函數
    function addTodo() {
        const todoText = todoInput.value.trim();

        // 如果輸入框是空的，不執行
        if (todoText === '') {
            alert('請輸入待辦事項！');
            return;
        }

        // 建立新的 li 元素
        const li = document.createElement('li');

        // 建立文字節點
        const textSpan = document.createElement('span');
        textSpan.textContent = todoText;

        // 建立刪除按鈕
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = '刪除';
        deleteBtn.className = 'delete-btn';

        // 點擊刪除按鈕時移除該項目
        deleteBtn.onclick = function() {
            li.remove();
        };

        // 組合元素
        li.appendChild(textSpan);
        li.appendChild(deleteBtn);

        // 加入清單
        todoList.appendChild(li);

        // 清空輸入框
        todoInput.value = '';

        // 讓輸入框重新聚焦
        todoInput.focus();
    }

    // 點擊按鈕時新增
    addBtn.addEventListener('click', addTodo);

    // 按 Enter 鍵也能新增
    todoInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            addTodo();
        }
    });
</script>
```

## 更新你的 HTML 檔案：

將這段 `<script>` 加在 `</body>` 標籤之前

---

## 導航

- **上一節**: [6.2 步驟一：生成 HTML 架構](./6.2-html-structure.md)
- **下一節**: [6.4 步驟三：美化樣式](./6.4-styling.md)
- **返回**: [第六章目錄](./README.md)
