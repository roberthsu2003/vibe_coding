# 專案範例1操作流程-建立OpenAPI功能

**說明**
- 這是一個FastAPI的範例
- 增加OpenAPI route節點

## 系統預先需求

- git
- conda
- dependency安裝(requirements.txt)
	- fastapi[standard]
	- uvicorn[standard]
	- pytest
	- httpx
	- fastapi-cli

## 檢查預先需求

### 使用terminal inline chat

1. ❗️檢查是否安裝git

> 
```
系統是否有安裝git
```

> 如果沒有安裝,請安裝git

2. ❗️git是否初始化

- 注意:老師的不要初始化(老師的上層目錄已經初始化),學員的要初始化(學員的是新專案)

> 
```
git是否有已經初始化
```

> 如果沒有,請初始化git。
> `git init`

3. ❗️是否有安裝conda

>
```
系統是否安裝conda
```

> 如果沒有,請安裝conda
> 注意:conda安裝完,必需執行`conda init`

4. ❗️檢查conda是否有安裝`vibe_coding`虛擬環境

> 
```
conda 是否已經建立"vibe_coding"虛擬環境?
```

> 如果沒有請建立立”vibe_coding”虛擬環境,也可嘗試請ai建立
> `conda create -n vibe_coding python=3.11`

5. 終端機進入虛擬環境

`conda activate vibe_coding`

6. ❗️安裝專案的dependency

>
```
請使用pip指令安裝requriements.txt內的套件 
```

7. 手動測試fast api

```
uvicorn main:app
```

> 測試:http://127.0.0.1:8000
> 測試:http://127.0.0.1:8000/docs
> 測試:http://127.0.0.1:8000/health

## 讓ai自動建立分支

```
請建立一個project1的分支
```

## 讓AI透過chat view可以執行專案(agent_mode)
- 正常ai不知道如何執行專案

1. 建立一個AGENTS.md,告知如何執行專案和注意事項.其它應用程式可以建立至(cursor.md,gemini.md,claude.md)

```markdown

## 執行終端機命令時,請先進入vibe_coding的虛擬環境

指令如下:

`conda activate vibe_coding`

## 執行專案時,請使用下面指令

`conda activate vibe_coding && uvicorn main:app`

## 請使用繁體中文回覆
- 所有註解使用繁體中文回覆
```

> 如果使用vscode,請將markdown的內容加入至系統指示

2. ❗️執行專案

```
請執行專案
```

3. 設定vscode的debug模式,讓它可以正確執行模式

- 可以透過debug視窗來設定
- 依照指示使用

```
@vscode /startDebugging
```

> [!TIP]

> 
```
{
    // 使用 IntelliSense 以得知可用的屬性。
    // 暫留以檢視現有屬性的描述。
    // 如需詳細資訊，請瀏覽: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "type": "debugpy",
            "request": "launch",
            "name": "Launch FastAPI",
            "module": "uvicorn",
            "args": [
                "main:app",
                "--reload"
            ],
            "jinja": true,
            "justMyCode": false,
            "python": "/opt/miniconda3/envs/vibe_coding/bin/python"
        }
    ]
}
```



## 增加新功能(agent_mode)

```prompt
#codebase 請增加一個`講師`所有CRUD的功能
```

> `http://127.0.0.1:8000/docs` 檢查新增的功能
	

```prompt
#codebase 請增加一個`學生`所有CRUD的功能
```

> `http://127.0.0.1:8000/docs` 檢查新增的功能

## 刪除分支和刪除專案

