# 專案範例3操作流程

main.py檔案的操作

## 系統預先需求

- git
- conda

## 檢查預先需求

### 使用terminal inline chat

1. ❗️檢查是否安裝git

> 
```
系統是否有安裝git
```

> 如果沒有安裝,請安裝git

2. ❗️git是否初始化

- 注意:老師的不要初始化(老師的上層目錄已經初始化),學員的要初始化(學員的是新專案)

> 
```
git是否有已經初始化
```

> 如果沒有,請初始化git。
> `git init`

3. ❗️是否有安裝conda

>
```
系統是否安裝conda
```

> 如果沒有,請安裝conda
> 注意:conda安裝完,必需執行`conda init`

4. ❗️檢查conda是否有安裝`vibe_coding`虛擬環境

> 
```
conda 是否已經建立"vibe_coding"虛擬環境?
```

> 如果沒有請建立”vibe_coding”虛擬環境,也可嘗試請ai建立
> `conda create -n vibe_coding python=3.11`

5. 終端機進入虛擬環境

`conda activate vibe_coding`

## 使用程式碼自動完成和下一段建議

### 1. 程式碼解釋與修正
```
# 請解釋這段程式碼的功能，並找出其中的錯誤
```

```
# 這個函數似乎有錯誤，應該是相加而不是相減，請修正它
def add_numbers(a, b):
    return a - b
```

```
# 這個函數計算總和有誤，請修正
def calculate_sum(numbers):
    sum = 1
    for num in numbers:
        sum += num
    return sum
```

### 2. 程式碼完成
```
# 請完成以下函數，使其可以找出列表中的最大值
def find_maximum(numbers):
```

```
# 請完成以下函數，使其可以計算列表中所有數字的平均值
def calculate_average(numbers):
```

```
# 請完成以下函數，找出列表中的最小值
def find_minimum(numbers):
```

### 3. 簡單演算法實作
```
# 請實作一個函數，判斷一個數字是否為質數
def is_prime(number):
```

```
# 請實作一個函數，回傳費氏數列的第n項
def fibonacci(n):
```

## 進階 Prompt 示例

### 1. 效能優化
```
# 請優化以下函數，提高其執行效率
def find_maximum(numbers):
    max_value = numbers[0]
    for number in numbers:
        if number > max_value:
            max_value = number
    return max_value
```

```
# 這個排序函數效率不高，請使用更有效率的算法
def bubble_sort(arr):
    n = len(arr)
    for i in range(n):
        for j in range(0, n - i - 1):
            if arr[j] > arr[j + 1]:
                arr[j], arr[j + 1] = arr[j + 1], arr[j]
    return arr
```

### 2. 測試程式碼
```
# 為以下函數生成單元測試
def add_numbers(a, b):
    return a + b
```

```
# 為這個字串處理函數生成完整的測試案例
def reverse_words(sentence):
    words = sentence.split()
    reversed_words = words[::-1]
    return ' '.join(reversed_words)
```

### 3. 錯誤處理
```
# 為以下函數添加適當的錯誤處理機制
def calculate_average(numbers):
    total = 0
    for number in numbers:
        total += number
    return total / len(numbers)
```

```
# 請增加錯誤處理，確保檔案操作安全
def read_file_content(file_path):
    file = open(file_path, 'r')
    content = file.read()
    file.close()
    return content
```

### 4. 文件註解
```
# 為以下函數添加完整的 docstring 文件
def add_numbers(a, b):
    return a + b
```

```
# 為這個資料處理函數添加詳細的文件註解
def process_data(data_list, filter_func=None, sort_key=None):
    result = data_list.copy()
    if filter_func:
        result = [item for item in result if filter_func(item)]
    if sort_key:
        result.sort(key=sort_key)
    return result
```

### 5. 重構與設計模式
```
# 請將這些重複的程式碼重構為更模組化的設計
def process_students():
    students = get_students()
    for student in students:
        grade = calculate_grade(student.scores)
        print(f"{student.name}: {grade}")
        
def process_teachers():
    teachers = get_teachers()
    for teacher in teachers:
        rating = calculate_rating(teacher.reviews)
        print(f"{teacher.name}: {rating}")
```

```
# 請將這個函數使用裝飾器模式重構
def log_function_call(func_name):
    print(f"Calling function: {func_name}")

def add(a, b):
    log_function_call("add")
    return a + b

def subtract(a, b):
    log_function_call("subtract")
    return a - b
```

## 使用技巧

1. **明確指出需求**：「請修正此函數使其正確計算兩數之和」比「修正這個函數」更有效
2. **提供上下文**：告訴 Copilot 這段程式碼的目的和預期行為
3. **逐步指導**：複雜任務可分解為多個簡單步驟
4. **修改建議**：如果 Copilot 的建議不完全符合需求，可以透過更精確的提示來調整
5. **嘗試變化**：如果第一個建議不理想，嘗試重新描述問題或使用不同的關鍵字
6. **限定範圍**：指定特定語言、框架或風格可以得到更精準的建議

## 實作練習

1. 使用 Copilot 修正 `1main.py` 中的 `add_numbers` 函數
2. 讓 Copilot 實現 `find_maximum` 函數，正確找出列表中最大值
3. 請 Copilot 實現 `calculate_average` 函數，並添加錯誤處理
4. 使用 Copilot 完成 `is_prime` 和 `fibonacci` 函數
5. 讓 Copilot 為 `main` 函數添加功能，展示上述所有函數的使用
6. 使用 Copilot 為所有函數添加恰當的文件註解

